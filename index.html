<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Webpage with Dashboard</title>
    <link rel="stylesheet" href="assets/styles.css"> 
 
</head>
<body> 
    <div class="navbar">
        <a href="#section_cost" class="nav-link">Energy Costs</a>
        <a href="#section_budget" class="nav-link">Budget Impacts</a>
        <a href="#section_ghg" class="nav-link">Greenhouse Gases</a>
        <a href="#section_why" class="nav-link">Why this Matters</a>
        <a href="#section_dashboard" class="nav-link">Dashboard</a>
        <a href="#section_resources" class="nav-link">Resources</a>
        <a href="http://localhost:3000" class="nav-link launch-tool-btn" target="_blank">Launch Tool</a>
    </div>

    <!-- Scrolling Section -->
    <div class="section" id="section_cost">
        <img src="assets/energy_costs.png" alt="Placeholder Image" class="left-image">
        <div class="overlay-text">
            <h3>Costs for Energy at Home</h3>
            <p>Households paid roughly $XX billion in 2022 for electricity and fossil fuels to run their homes. </p>
            <p>Low-income households earning less than 80% of the area median income were responsible for $XX billion or XX%.</p>
            
        </div>
    </div>

    <div class="section" id="section_budget">
        <img src="assets/tool_snapshot.png" alt="Placeholder Image" class="left-image">
        <div class="overlay-text">
            <h3>Household Budget Impacts</h3>
            <p>XX% of low-income households spent more than 6% of their gross income on energy.</p> 
            <p>In dollar terms, $XX billion is spent annualy beyond this 6% of income, which representing the bill assistance needed to cap bills at this threshold.</p>
        </div>
    </div>


    <div class="section" id="section_ghg">
        <img src="assets/energy_costs.png" alt="Another Image" class="left-image">
        <div class="overlay-text">
            <h3>Residential Greenhouse Gases</h3>
            <p>Occupied homes are responsible for XX tons of greenhouse gases which represent XX% of direct emissions in the US.</p>
            <p>Low-income households alone are responsible for XX and XX% respectively.</p>
        </div>
    </div>

    <div class="section" id="section_why">
        <img src="assets/tool_snapshot.png" alt="Another Image" class="left-image">
        <div class="overlay-text">
            <h3>Why this Matters</h3>
            <p>Households that struggle to pay their bills face increased risks to health and safety. </p>
            <p>Moreover, they struggle to afford the upfront costs to solutions that can reduce their bills and/or emissions. </p>
            <p>Programs such as XX and XX can reduce emissions and bill assistance needs, but need local data.</p>
        </div>
    </div>

    <!-- Dashboard Section -->
    <div class="section" id="section_dashboard">
        <img src="assets/energy_costs.png" alt="Another Image" class="left-image">
        <div class = "overlay-text">
            <h3>Interactive Dashboard</h3>
            <p>To fill this gap, we developed the first tool that aggregate costs, emissions, and more. </p>
            <p>Data relies on simulated data sets of all households in 2022. </p>
            <p>With this tool, users can investigate leading impacts on costs and emisions from households. Soon, users will also be able to investigate strategies to improve these outcomes.</p>        
        </div>
    </div>

    <!-- Dashboard Section -->
    <!-- <div class="section" id="section_resources">
        <img src="assets/tool_snapshot.png" alt="Another Image" class="left-image">
        <div class = "overlay-text">
            <h3>Interactive Dashboard</h3>
            <p>To fill this gap, we developed the first tool that aggregate costs, emissions, and more. </p>
            <p>Data relies on simulated data sets of all households in 2022. </p>
            <p>With this tool, users can investigate leading impacts on costs and emisions from households. Soon, users will also be able to investigate strategies to improve these outcomes.</p>        
    
        </div>
    </div> -->


    <div class="resources-section" id="section_resources">
        <div class="resources-container">
            <div class="left-text">
                <h3>Data Sources</h3>
                <p>Data is simulated using a combination of the following survey data. Detailed methodology will soon be released in an upcoming publication. </p>
                <ul>
                    <li><a href="https://example.com/resource1">American Community Survey 2017-2021</a></li>
                    <li><a href="https://example.com/resource2">EIA Residential Energy Consumption Survey</a></li>
                    <li><a href="https://example.com/resource2">Meteorological Data for Heating and Cooling Degree Days</a></li>
                    <li><a href="https://example.com/resource2">American Housing Survey</a></li>
                    <li> EIA forms <a href="https://example.com/resource3">861</a> and <a href="https://example.com/resource4">176</a> from 2022</li>                
                </ul>
            </div>
            <div class="middle-text">
                <h3>Learn more</h3>
                <h4 style="margin-top: -5px;">PSE Healthy Energy Publications</h4>
                <ul style="margin-top: -5px;">
                    <li><a href="https://example.com/resource1">Maryland</a></li>
                    <li><a href="https://example.com/resource2">Colorado</a></li>
                    <li><a href="https://example.com/resource2">Western States Deep Decarb</a></li>
                    <li><a href="https://example.com/resource2">Other case studies</a></li>
                </ul>
                <h4 style="margin-top: -10px;">Other Resources</h4>
                <ul stlye="margin-top: -10px;">
                    <li><a href="https://example.com/resource1">Energy Equity Project</a></li>
                    <li><a href="https://example.com/resource2">DOE LEAD Tool [currently inactive] and dataset</a></li>                
                </ul>
            </div>
            <div class="funding-info">
                <p>This work was funded by XX, a XX of the XX.</p>
                <div class="right-logo">
                    <img src="assets/2021 - PSE_Logo_Stacked_Color.png" alt="PSE Logo">
                </div>
            </div>
        </div>
    </div>

    <style>
        .resources-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            padding: 40px;
            background-color: var(--color-white);
            z-index: 1000;
            position: relative;
        }
        .resources-section {
            background-color: var(--color-bg-light);
            display: flex;
            justify-content: center;
            min-height: 100vh;
            padding-top: 80px;
            padding-bottom: 60px;
            position: relative;
            z-index: 100;
        }

        .left-text, .middle-text, .funding-info {
            flex: 1;
            margin: 10px 20px;
            min-width: 250px;
        }
        .left-text ul, .middle-text ul {
            padding-left: 20px;
            line-height: 1.8;
        }
        .left-text ul li, .middle-text ul li {
            margin-bottom: 8px;
        }
        .left-text h3, .middle-text h3 {
            color: var(--color-forest-green);
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
            border-bottom: 3px solid var(--color-orange);
            padding-bottom: 8px;
        }
        .middle-text h4 {
            color: var(--color-forest-green);
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            margin-top: 25px;
        }
        .left-text a, .middle-text a {
            color: var(--color-forest-green);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        .left-text a:hover, .middle-text a:hover {
            color: var(--color-orange);
            text-decoration: underline;
        }
        .funding-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 20px;
            max-width: 280px;
            border-top: 3px solid var(--color-forest-green);
            padding-top: 20px;
        }
        
        /* Responsive design for narrower screens */
        @media (max-width: 1200px) {
            .resources-container {
                flex-direction: column;
            }
            
            .funding-info {
                position: static;
                max-width: 100%;
                margin-top: 30px;
                border-top: 3px solid var(--color-forest-green);
            }
            
            .left-text, .middle-text, .funding-info {
                margin: 20px 0;
            }
        }
        .funding-info p {
            margin: 0;
            font-size: 16px;
            margin-bottom: 20px;
            color: var(--color-gray);
            line-height: 1.6;
        }
        .right-logo {
            align-self: flex-end;
            position: relative;
            margin-left: auto;
            margin-right: 10px;
            margin-bottom: 10px;
            height: auto;
        }
        .right-logo img {
            max-width: 200px;
            height: auto;
            opacity: 1;
        }
    </style>
    

    <script>
        // Function to update image visibility based on scroll position
        function updateImageVisibility() {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const image = section.querySelector('img');
                if (image) {
                    const fadeInThreshold = window.innerHeight * 0.4; 
                    const fadeOutThreshold = window.innerHeight * 0.4; 
                    if (rect.top <= fadeInThreshold && rect.bottom >= fadeOutThreshold) {
                        image.classList.add('visible');
                        image.style.opacity = '1';
                    } else {
                        image.classList.remove('visible');
                        image.style.opacity = '0';
                    }
                }
            });

            // Highlight the active section in the navbar
            const navLinks = document.querySelectorAll('.nav-link');
            let currentSection = '';
            
            // Check all sections including resources
            const allSections = document.querySelectorAll('.section, .resources-section');
            allSections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const navbarHeight = 60;
                
                // Consider a section active if its top is near or above the navbar
                // and it still has content visible
                if (rect.top <= navbarHeight + 50 && rect.bottom >= navbarHeight) {
                    currentSection = section.id;
                }
            });
            
            // Special case: if we're near the bottom of the page, highlight resources
            const scrollPosition = window.scrollY + window.innerHeight;
            const pageHeight = document.documentElement.scrollHeight;
            if (pageHeight - scrollPosition < 100) {
                currentSection = 'section_resources';
            }
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // Initialize visibility on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateImageVisibility();
        });

        // Update visibility on scroll
        document.addEventListener('scroll', updateImageVisibility);
    </script>
    <style>
        .section img {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .section img.visible {
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</body>
</html></div>
